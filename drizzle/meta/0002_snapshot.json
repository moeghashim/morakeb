{
  "version": "6",
  "dialect": "sqlite",
  "id": "e4a7f4f9-77a9-4f4f-bf15-d9503cd248bc",
  "prevId": "1f992d2f-47eb-4e4d-bca9-53459a8abcea",
  "tables": {
    "ai_models": {
      "name": "ai_models",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "display": {
          "name": "display",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "active": {
          "name": "active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_models_provider_id_ai_providers_id_fk": {
          "name": "ai_models_provider_id_ai_providers_id_fk",
          "tableFrom": "ai_models",
          "tableTo": "ai_providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "ai_providers": {
      "name": "ai_providers",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "encrypted_api_key": {
          "name": "encrypted_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "verified": {
          "name": "verified",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "active": {
          "name": "active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "changes": {
      "name": "changes",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "monitor_id": {
          "name": "monitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "before_snapshot_id": {
          "name": "before_snapshot_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "after_snapshot_id": {
          "name": "after_snapshot_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "diff_md": {
          "name": "diff_md",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "diff_type": {
          "name": "diff_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "release_version": {
          "name": "release_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_changes_monitor_id": {
          "name": "idx_changes_monitor_id",
          "columns": [
            "monitor_id"
          ],
          "isUnique": false
        },
        "idx_changes_monitor_release": {
          "name": "idx_changes_monitor_release",
          "columns": [
            "monitor_id",
            "release_version"
          ],
          "isUnique": false
        },
        "idx_changes_created_at": {
          "name": "idx_changes_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "changes_monitor_id_monitors_id_fk": {
          "name": "changes_monitor_id_monitors_id_fk",
          "tableFrom": "changes",
          "tableTo": "monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "changes_before_snapshot_id_snapshots_id_fk": {
          "name": "changes_before_snapshot_id_snapshots_id_fk",
          "tableFrom": "changes",
          "tableTo": "snapshots",
          "columnsFrom": [
            "before_snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "changes_after_snapshot_id_snapshots_id_fk": {
          "name": "changes_after_snapshot_id_snapshots_id_fk",
          "tableFrom": "changes",
          "tableTo": "snapshots",
          "columnsFrom": [
            "after_snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "job_events": {
      "name": "job_events",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "job_id": {
          "name": "job_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "monitor_id": {
          "name": "monitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_job_events_job_id": {
          "name": "idx_job_events_job_id",
          "columns": [
            "job_id"
          ],
          "isUnique": false
        },
        "idx_job_events_type": {
          "name": "idx_job_events_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "idx_job_events_status": {
          "name": "idx_job_events_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_job_events_created_at": {
          "name": "idx_job_events_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "job_events_monitor_id_monitors_id_fk": {
          "name": "job_events_monitor_id_monitors_id_fk",
          "tableFrom": "job_events",
          "tableTo": "monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "job_locks": {
      "name": "job_locks",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "job_id": {
          "name": "job_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "acquired_at": {
          "name": "acquired_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_job_locks_job_id": {
          "name": "idx_job_locks_job_id",
          "columns": [
            "job_id"
          ],
          "isUnique": false
        },
        "idx_job_locks_acquired_at": {
          "name": "idx_job_locks_acquired_at",
          "columns": [
            "acquired_at"
          ],
          "isUnique": false
        },
        "uq_job_locks_type_key": {
          "name": "uq_job_locks_type_key",
          "columns": [
            "type",
            "key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "monitor_notification_channels": {
      "name": "monitor_notification_channels",
      "columns": {
        "monitor_id": {
          "name": "monitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "channel_id": {
          "name": "channel_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_monitor_notification_channels_monitor": {
          "name": "idx_monitor_notification_channels_monitor",
          "columns": [
            "monitor_id"
          ],
          "isUnique": false
        },
        "idx_monitor_notification_channels_channel": {
          "name": "idx_monitor_notification_channels_channel",
          "columns": [
            "channel_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "monitor_notification_channels_monitor_id_monitors_id_fk": {
          "name": "monitor_notification_channels_monitor_id_monitors_id_fk",
          "tableFrom": "monitor_notification_channels",
          "tableTo": "monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "monitor_notification_channels_channel_id_notification_channels_id_fk": {
          "name": "monitor_notification_channels_channel_id_notification_channels_id_fk",
          "tableFrom": "monitor_notification_channels",
          "tableTo": "notification_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "monitor_notification_channels_monitor_id_channel_id_pk": {
          "columns": [
            "monitor_id",
            "channel_id"
          ],
          "name": "monitor_notification_channels_monitor_id_channel_id_pk"
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "monitors": {
      "name": "monitors",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "interval_minutes": {
          "name": "interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 60
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'webpage'"
        },
        "selector": {
          "name": "selector",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "include_link": {
          "name": "include_link",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "active": {
          "name": "active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "notification_channels": {
      "name": "notification_channels",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "encrypted_config": {
          "name": "encrypted_config",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "active": {
          "name": "active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "notification_events": {
      "name": "notification_events",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "change_id": {
          "name": "change_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "channel_id": {
          "name": "channel_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "detail": {
          "name": "detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "release_version": {
          "name": "release_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_notification_events_change": {
          "name": "idx_notification_events_change",
          "columns": [
            "change_id"
          ],
          "isUnique": false
        },
        "idx_notification_events_channel": {
          "name": "idx_notification_events_channel",
          "columns": [
            "channel_id"
          ],
          "isUnique": false
        },
        "idx_notification_events_version": {
          "name": "idx_notification_events_version",
          "columns": [
            "change_id",
            "release_version"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notification_events_change_id_changes_id_fk": {
          "name": "notification_events_change_id_changes_id_fk",
          "tableFrom": "notification_events",
          "tableTo": "changes",
          "columnsFrom": [
            "change_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_events_channel_id_notification_channels_id_fk": {
          "name": "notification_events_channel_id_notification_channels_id_fk",
          "tableFrom": "notification_events",
          "tableTo": "notification_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "settings": {
      "name": "settings",
      "columns": {
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "snapshots": {
      "name": "snapshots",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "monitor_id": {
          "name": "monitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content_md": {
          "name": "content_md",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "release_version": {
          "name": "release_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(datetime('now'))"
        }
      },
      "indexes": {
        "idx_snapshots_monitor_id": {
          "name": "idx_snapshots_monitor_id",
          "columns": [
            "monitor_id"
          ],
          "isUnique": false
        },
        "idx_snapshots_monitor_release": {
          "name": "idx_snapshots_monitor_release",
          "columns": [
            "monitor_id",
            "release_version"
          ],
          "isUnique": false
        },
        "idx_snapshots_created_at": {
          "name": "idx_snapshots_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "uq_snapshots_monitor_release": {
          "name": "uq_snapshots_monitor_release",
          "columns": [
            "monitor_id",
            "release_version"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "snapshots_monitor_id_monitors_id_fk": {
          "name": "snapshots_monitor_id_monitors_id_fk",
          "tableFrom": "snapshots",
          "tableTo": "monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}